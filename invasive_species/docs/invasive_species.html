<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
  
  <style type="text/css">
<!--
@import url(common.css);
-->
  </style>
  <title>Invasive Species Description</title>

  
</head><body>
<h1> Invasive Species Problem</h1>
        <hr style="height: 4px;"> 
        <a href="http://web.engr.oregonstate.edu/~alkaee">Majid Alkaee
Taleghan</a>, <a href="http:markcrowley.ca">Mark Crowley</a>, <a href="http://web.engr.oregonstate.edu/~tgd/">Thomas Dietterich</a><br>
        Oregon State University<br>
        <a href="https://sites.google.com/site/rlcomp2013/">2013 Reinforcement Learning Competition</a>
      <hr style="height: 4px;"> </td>
<img src="5-reach.png" alt="5-reach structure" align="right" style="width: 228px; height: 250px;">
    <p>The ecological and economic damage caused by invasive species has increased rapidly around the world. This has created a need for good policies for managing invasive species. This proposed RL domain captures some of the inherent difficulties of performing optimal decision making in spatial domains where there is a spatially spreading process that needs to be controlled. The domain is modelled as a river network with native and invading plant species. 
    The Tamarisk tree (<a href="http://en.wikipedia.org/wiki/Tamarix"><span style="color: rgb(17, 85, 204);">wikipedia.org/wiki/Tamarix</span></a>) is a major invasive plant species in many parts of the world including the western USA and Australia. It takes over river networks where it out-competes native species, reduces biodiversity, and consumes large amounts of water. The management goal is to reduce the impact of the invasion and restore the river network to mostly or entirely native plants while minimizing the management cost over time.
</p>


<p>The management problem can be formalized as an MDP describing the state and dynamics of a tree-structured river network. The model is a generalization of one developed by Muneepeerakul et. al, 2007 [Muneepeerakul, R., Weitz, J. S., Levin, S. a, Rinaldo, A., &amp; Rodriguez-Iturbe, I. (2007). A neutral metapopulation model of biodiversity in river networks. <i style="">Journal of theoretical biology</i>, <i style="">245</i>(2), 351&#8211;63. doi:10.1016/j.jtbi.2006.10.005]
</p

<p>The river network is represented as a tree with <i style="">E</i> edges. Water starts at the leaves and flows toward the root. Each edge contains <i style="">H</i> slots ("habitats"), and each slot is in one of three states: empty, occupied by a Tamarisk tree, or occupied by a Native tree. Hence, the MDP has 3<sup>EH</sup> states.<span style="">&nbsp; </span>In ecology, each edge is called a "reach".
</p>

<p>
The optimization objective is to minimize the infinite horizon, discounted sum of costs.
</p>


<h3>State</h3>
<p>
The state is represented as a list of integers in {1,2,3} of length <i>EH</i> representing the local state of each habitat slot. The numbers are specified as follows:
      <ol>
        <li>The slot is occupied with Tamarisk plants.<br>
        </li>
        <li>The slot is occupied with Native plants.</li>
        <li>The slot is empty</li>
      </ol>
      There are 3<sup>EH</sup> total possible states.
The graph structure of the river network can be specified as a python DiGraph object, if one is not specified then a random one can be generated by calling InvasiveUtility.createRandomGraph(E+1). By default this will create a random, unbalanced tree containing the given number of reaches. 
The integers in the state vector are listed in order of the reach and the habitat in that reach.
The ordering of the reaches in the state vector (and the action vector) corresponds to the order of edges returned by the DiGraph object. 
The edges of the graph can be obtained by using TaskSpec.
</p>

<h3>Actions</h3>
<p>
In each reach at each time step, a management action can be taken and applied to the habitats in that reach. The action across all reaches is represented as a list of integers in {1,2,3,4}, one for each reach. The ordering of the reaches corresponds to the order of edges returned by the DiGraph object. The available actions in each reach are: 
<ol>
  <li><span style="font-family:Courier New, monospace">null</span> : do nothing</li>
  <li><span style="font-family:Courier New, monospace">eradicate</span> : eradicate Tamarisk plants in all slots in the reach</li>
    <li><span style="font-family:Courier New, monospace">restore</span> : place Native plants in all empty slots in the reach</li>
    <li><span style="font-family:Courier New, monospace">eradicate+restore</span> : Eradicate Tamarisk and place Native plants in all empty slots </li>
</ol>
</p>
<p>
Both the eradicate and restore parts of an action can fail stochastically, and both have a cost that scales linearly with the number of affected slots.  
There are <i>4<sup>E</sup></i> total global actions.
Both the eradicate and restore parts of an action can fail
stochastically, and both have a cost that scales linearly with the
number of affected slots. 
</p>

<p>The following actions are not allowed:
      <ul>
        <li>Doing any action other than <span style="font-family:Courier New, monospace">null</span> on a reach full of
Native plants</li>
        <li>Eradicating an empty slot in an empty reach</li>
        <li>Restoring a slot in a fully invaded reach (Tamarisk plants present in all habitats)<br>
        </li>
      </ul>
      </p>

<h3>Dynamics</h3>
<p>
The dynamics are defined by stochastic transitions of spreading "propagules". In each time step, each tree dies with some probability.  The surviving trees then produce a stochastic number of "propagules" (i.e., seeds).  These then disperse according to a spatial process such that downstream spread is much more likely than upstream spread. The propagules that arrive at each empty slot compete stochastically (according to a competition parameter) to determine which one will occupy the site and grow. The dynamics can be represented as a complex dynamic Bayesian network. However, inference in this network is infeasible, so instead we will provide a simulator that makes random draws from the transition distribution. 
</p>

<h3>Cost Function</h3>
<p>
The reward function is composed of a cost for performing each action, costs that penalize the level of invasion by Tamarisk and a budget constraint. Specifically, there is a cost for each slot that is occupied by a Tamarisk plant and an additional cost for each reach that has a non-zero number of Tamarisk plants in it.
There is also a budget constraint at each time step.
The budget limits the number of actions which are possible on a given
state. The budget could be any value greater than zero. The default budget value is 100. If the total cost of actions exceeds the budget a large negative penalty will be returned. The penalty could be passed as an input parameter to the environment (default =-10000).
</p>

<h3>Observations</h3>
<p>
In the example code in InvasiveExperiment.py the state is represented by a list of integers <i>S</i> using the format as specified in the state section. At each step, based on the current state and for any action, the domain takes those actions and transitions to another state. The returned reward is multiplied by -1 and is the summation of state cost and action cost. If the action cost is greater than the budget or the action is not allowable on the current state then a high negative value will be returned.
</p>

<h4>TaskSpec Parameters</h4>
      <p>The following parameters could be obtained by using TaskSpec from the related parts in the message:
      <ul>
        <li>Number of reaches, related TaskSpec message: "ACTIONS INTS (number of reaches value  1 4)"</li>
		<li>Habitat size, related TaskSpec message: "OBSERVATIONS INTS (number of reaches value * habitat size value 1 3)"</li>
        <li>Penalty value for exceeding budget or invalid action, related TaskSpec message: "REWARDS (bad action penalty value and maximum cost value)"</li>
        <li>Discount factor, related TaskSpec message: "DISCOUNTFACTOR discount factor value"</li>
		<li>The edges of the graph, related TaskSpec message: "EXTRA the edges BUDGET the budget value" </li>
		<li>Budget, related TaskSpec message: "EXTRA the edges BUDGET the budget value"</li>
		</ul>
		</p>
		

<h3>Parameters</h3>
We consider the following parameters for this model.
<h4>State Definition Parameters</h4>
<ul>
  <li>Habitat size (default=4)</li>
  <li>Number of reaches (default=7)</li>
</ul>
<h4>Dynamics Parameters</h4>
<p>
These dynamics parameters define aspects common to both species
<ul>
    <li>Eradication rate (default=0.85)</li>
    <li>Restoration rate (default=0.65)</li>
    <li>Downstream spread rate (default=0.5) </li>
    <li>Upstream spread rates (default=0.1)</li>
</ul>
</p>
<p>
These parameters define separate rates and probabilities for Tamarisk and Native plant species:<br>
      <ul>
        <li>Death rate: array of length 2 [Native plant death rate, Tamarisk plant death rate] (default=[0.2,0.2])</li>
        <li>Production rate: array of length 2 [Native plant death rate, Tamarisk plant death rate] (default=[200,200])</li>

  <li>Exogenous arrival indicator, it could be On or Off (default=On)</li>

  <li>Exogenous arrival probability, matrix of size (<i>E</i> x 2), an item in row <i>e</i> and the first (second) column gives the probability of Native (Tamarisk) plant arriving at reach <i>e</i> from outside the network at the current timestep</li>
  <li>Exogenous arrival number, matrix of size (<i>E</i> x 2). <i>If</i> there are arrivals of Native (Tamarisk) plants to reach <i>e</i> from outside the network at the current timestep then an item in row <i>e</i> and the first (second) column specifies the number of arrivals at reach <i>e</i></li>

<!--
        <li>reachArrivalProbs: Exogenous arrival probability, this is an E x 2 matrix. reachArrivalProbs[e,s] gives the probability of plant species <i>s</i> arriving at edge <i>e</i> from outside the network at the current timestep</li>
        <li>reachArrivalRates: Exogenous arrival number, this is an E x 2 matrix. <i>If</i> there are arrivals of plant species <i>s</i> to edge <i>e</i> from outside the network at the current timestep then reachArrivalRates[e,s] specifies the number of arrivals that will occur  
		-->
        </li>
      </ul>
</p>

<h4>Cost Function Parameters</h4>
      <p>Each component of the cost function has an associated parameter:
      <ul>
        <li>Cost per invaded reach&nbsp; (default=10) </li>
        <li>Cost per tree&nbsp; (default=0.1)</li>
        <li>Cost per empty slot (default=0.05)</li>
        <li>Eradication cost&nbsp; (default=0.5)</li>
        <li>Restoration cost (default=0.9)</li>
      </ul>
      </p>

      <p>
The following components of the cost function depend on the action being taken and are multiplied by the number of habitat slots being treated by that action.
      <ul>
        <li>Variable eradication cost&nbsp; (default=0.4)</li>
        <li>Variable restoration cost for empty slot (default=0.4)</li>
        <li>Variable restoration cost for invaded slot (default=0.8)</li>
      </ul>
      </p>

<h4>Other Parameters</h4>
<ul>
  <li>Discount factor (default=0.9)</li>
  <li>Seed for random generator (Optional, default=1)</li>
</ul>
</body></html>
